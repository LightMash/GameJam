[gd_scene load_steps=31 format=3 uid="uid://toegbtl8wq3w"]

[ext_resource type="Script" uid="uid://d24bq5kd8w1dj" path="res://scripts/player.gd" id="1_qhqgy"]
[ext_resource type="Texture2D" uid="uid://c0ylhbv5fsif4" path="res://assets/F0.png" id="2_qlg0r"]
[ext_resource type="Script" uid="uid://cqf4kuet7cer5" path="res://scripts/player_state_machine.gd" id="3_qlg0r"]
[ext_resource type="Script" uid="uid://dpvdv8yhlma7w" path="res://scripts/state_idle.gd" id="4_dqkch"]
[ext_resource type="Script" uid="uid://bakim3fl7ercf" path="res://scripts/state_walk.gd" id="5_qlg0r"]
[ext_resource type="PackedScene" uid="uid://dulrkokmctpk" path="res://GeneralNodes/HurtBox/hurt_box.tscn" id="6_fjrip"]
[ext_resource type="Script" uid="uid://seweeluv6857" path="res://scripts/state_attack.gd" id="6_ur7pv"]
[ext_resource type="PackedScene" uid="uid://2oxddiofudlc" path="res://GeneralNodes/HitBox/hit_box.tscn" id="7_smehm"]
[ext_resource type="Script" uid="uid://dm87e08dht7ox" path="res://scripts/state_dash.gd" id="7_y4r1p"]
[ext_resource type="Script" uid="uid://c43bfydqelsvx" path="res://scenes/emote.gd" id="8_d2wvv"]
[ext_resource type="Script" uid="uid://mqqakq8uyuqn" path="res://scripts/playerInteractionHost.gd" id="9_y4r1p"]

[sub_resource type="CircleShape2D" id="CircleShape2D_tuyoq"]
radius = 7.071068

[sub_resource type="Animation" id="Animation_smehm"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 1)]
}

[sub_resource type="Animation" id="Animation_tuyoq"]
resource_name = "attack_down"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 7), Vector2i(4, 7)]
}

[sub_resource type="Animation" id="Animation_f1ej7"]
resource_name = "attack_side"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 8), Vector2i(4, 8)]
}

[sub_resource type="Animation" id="Animation_qlg0r"]
resource_name = "attack_up"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 9), Vector2i(4, 9)]
}

[sub_resource type="Animation" id="Animation_oprun"]
resource_name = "dash_down"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 10), Vector2i(12, 10)]
}

[sub_resource type="Animation" id="Animation_a8ls1"]
resource_name = "dash_side"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 11), Vector2i(12, 11)]
}

[sub_resource type="Animation" id="Animation_qfm1y"]
resource_name = "dash_up"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 12), Vector2i(12, 12)]
}

[sub_resource type="Animation" id="Animation_fulsm"]
resource_name = "emote"
length = 0.7
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 13), Vector2i(9, 13)]
}

[sub_resource type="Animation" id="Animation_fjrip"]
resource_name = "idle_down"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 0), Vector2i(5, 0)]
}

[sub_resource type="Animation" id="Animation_y4r1p"]
resource_name = "idle_side"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(7, 2), Vector2i(12, 2)]
}

[sub_resource type="Animation" id="Animation_ur7pv"]
resource_name = "idle_up"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(7, 3), Vector2i(12, 3)]
}

[sub_resource type="Animation" id="Animation_d2wvv"]
resource_name = "walk_down"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 1), Vector2i(5, 1)]
}

[sub_resource type="Animation" id="Animation_jej6c"]
resource_name = "walk_side"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 2), Vector2i(5, 2)]
}

[sub_resource type="Animation" id="Animation_3v2ag"]
resource_name = "walk_up"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0.02, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2i(0, 3), Vector2i(5, 3)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_f1ej7"]
_data = {
&"RESET": SubResource("Animation_smehm"),
&"attack_down": SubResource("Animation_tuyoq"),
&"attack_side": SubResource("Animation_f1ej7"),
&"attack_up": SubResource("Animation_qlg0r"),
&"dash_down": SubResource("Animation_oprun"),
&"dash_side": SubResource("Animation_a8ls1"),
&"dash_up": SubResource("Animation_qfm1y"),
&"emote": SubResource("Animation_fulsm"),
&"idle_down": SubResource("Animation_fjrip"),
&"idle_side": SubResource("Animation_y4r1p"),
&"idle_up": SubResource("Animation_ur7pv"),
&"walk_down": SubResource("Animation_d2wvv"),
&"walk_side": SubResource("Animation_jej6c"),
&"walk_up": SubResource("Animation_3v2ag")
}

[sub_resource type="GDScript" id="GDScript_d2wvv"]
script/source = "class_name HurtBox
extends Area2D

func _ready():
	add_to_group(\"player_hurtbox\")
"

[sub_resource type="CircleShape2D" id="CircleShape2D_ur7pv"]
radius = 9.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_y4r1p"]
radius = 5.0
height = 26.0

[node name="Player" type="CharacterBody2D" groups=["player"]]
y_sort_enabled = true
position = Vector2(0, -20)
script = ExtResource("1_qhqgy")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_qlg0r")
hframes = 13
vframes = 14
frame = 13

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 15)
shape = SubResource("CircleShape2D_tuyoq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_f1ej7")
}

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(8, 8)

[node name="StateMachine" type="Node" parent="."]
script = ExtResource("3_qlg0r")

[node name="idle" type="Node" parent="StateMachine"]
script = ExtResource("4_dqkch")

[node name="walk" type="Node" parent="StateMachine"]
script = ExtResource("5_qlg0r")

[node name="attack" type="Node" parent="StateMachine"]
script = ExtResource("6_ur7pv")
decelerate_speed = 1.0

[node name="dash" type="Node" parent="StateMachine"]
script = ExtResource("7_y4r1p")

[node name="emote" type="Node" parent="StateMachine"]
script = ExtResource("8_d2wvv")

[node name="Interactions" type="Node2D" parent="."]
script = ExtResource("9_y4r1p")

[node name="HurtBox" parent="Interactions" instance=ExtResource("6_fjrip")]
position = Vector2(-25, 14)
collision_layer = 2
collision_mask = 1
monitoring = true
script = SubResource("GDScript_d2wvv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactions/HurtBox"]
position = Vector2(25, 1)
shape = SubResource("CircleShape2D_ur7pv")
disabled = true
debug_color = Color(0.99215686, 0, 0, 0.41960785)

[node name="HitBox" parent="Interactions" instance=ExtResource("7_smehm")]
collision_layer = 3
collision_mask = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactions/HitBox"]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_y4r1p")
debug_color = Color(0, 0.63427913, 0.4345184, 0.41960785)

[connection signal="area_entered" from="Interactions/HurtBox" to="." method="_on_hurt_box_area_entered"]
